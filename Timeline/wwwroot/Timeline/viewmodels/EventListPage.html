<link rel="import" href="/sys/polymer/polymer.html">
<link rel="import" href="/Timeline/elements/timeline-side-panel" />
<link rel="import" href="/Timeline/elements/timeline-date-point" />
<style>
    .timeline-wrapper {
        display: flex; 
        flex-direction: column; 
    }

    .timeline-event-wrapper {
        width: 500px;
        margin-top: 20px;
    }

    .timeline-event-wrapper:first-child {
        margin-top: 0;
    }

    .timeline-event-wrapper__title-container {
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
        align-items: center;
        height: 20px;
    }

    .timeline-event-wrapper__title {
        padding: 0 10px;
        font-size: 13px;
        height: 20px;
        margin-bottom: 0px;
        text-transform: uppercase;
        color: #000000;
    }

    .timeline-event-wrapper__title:first-child {
        margin-right: auto;
    }

    .timeline-event-content {
        border-radius: 5px;
        overflow: hidden;
    }

    .timeline-hover-button {
        margin: 0;
        padding: 0;
        background-color: transparent;
        border: none;
        width: 15px;
        height: 15px;
        opacity: 0;
        transition: opacity 0.2s linear;
    }

    .timeline-event-wrapper:hover .timeline-hover-button {
        opacity: 1;
    }

    .timeline-icon-edit {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC2klEQVR4Xu2agU3dMBCGfyagGwATUCYANoAJgAmgExQ2oBO0nQCYgHYCYALYALoB+qtYsiw7d06cl7v3YulJCEJevs93Z8f2Fja8bW04PxYBSwRsuIElBTY8AJYi6DEFzgCcdJ8QwG8A7gH8AMCf1c2TgF0APwEcCXS3AL5pDXgR8BXAI4AvSrBfAC4013oQ0Af/AoCRsZ2BZTpcSRKsCyjBPwA4B/DRATIt2Os7CfCeVBMsCyjB/+7g085lejwnEsQosCqgBP9XKIKMBNaKeHRgFBSbRQFSwWNxY7iXGofBOBV6Ga0JkOADdJ+EJwC8T2huBPSF/WGmu3MSWAfeo2v/SUOnlQiQCh4rPidBaUsl3CUzRI4WnDWargESfHh4SQIF8Zq4SfVi9pchLbwk4U9mdJBGjP/3nDMFauElCXHPM/d5f/HFaC4BQ+E1EgjP+QAnRWKbQ8BY+ADFCU/6ZlgFP0cKtILPFbxq+FULMAe/SgEm4VclwCz8KgSYhp9agHn4KQW4gJ9KgBv4KQS4gm8twB18SwEu4VsJcAvfQoBr+LEC3MOPEbAW8EMFrA38EAFrBV8rYOh2Vbos1WwxQ1zvUlxQsyTGldfcBgW/hn/jErS0CGkKvjYCuOPSd0CBW9XHPYuR5uBrBPAQwqsiokoSTMLXCOD2EredQuOmw3X3SdOCEg6idDALXyOAsN8jATcdPH/FQ0mXSXSwJjAdTMPXCEgL4Gl3LC1wlySMXrdXpN2oS7SjQFoAc2dv+kYJPuSgdftRdIp/1ghIC2Bpzz09nhJ/vUl4bQrkCmAIbcrZ7zYi+bvcIUaz8FoBaQFkqLNxZigdXDQNrxUg5XYp08zDawVIM8BUAMG5Nc1TmqotakWtmuwSqQhKM8AAyyghLD/S+8BkMENuLAmIC6B72JwgSQCrejiC6qpntdEgCdDex+11iwC3XdfowZcIaCTS7W2WCHDbdY0e/BMfOOxBQn4XcwAAAABJRU5ErkJggg==');
    }
    .timeline-icon-close {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAB60lEQVR4Xu2a61HEMAyEdZ1QCnQClQGd0AmUwnjAM+BxzpK8K2di5edFtnY/S87jcpPNj9vm/iUBZAVsTiBbYPMCyE0wWyBbYHMCMy3wICJfJ+H3KCIfHi1eAM8i8ioiLyLy5kkMHFO1FB1Fj+nwAKgJa6KVEFotZghWAKXsPzuIV0BozVdZT5Z2sAIoSY4SR0KAafAAWA0BZr4Y8QJYBQFqfhZANAS4eQSAKAgU8ygAbAg080gALAhU82gAaAh08wwAKAgh5lkAZiGEmWcC8EIINc8GYIUQbj4CgBbCEvNRAEYQyvnybqE9Qh6uZp4FOprv/nS0yr1BIeYjK6Ca1EAIM78CwL12KOdCzSeAyfcB1j1gtPp1vtAqyE3Qs4yOMfeu85e/DGpucjQxDu7jIewWsBizxI6dKSOYADyGPGOUVvthLAAzRmbGmmEwACAMIOZQwUADQApHznUIAwmAIZgx5z8YKABMocy5p/4aGz3hIW9paRBmK4AmrNO0lFwzACiCBls3PKcXAFyI6pr1EwTN7QEAFWAw/jcUpsEKID+R6ZQgcre3FkRbCe+/+tTzWCugvfStNN9qMZuffSe49YeS6hI7e6C3Bc7uS60vAahRXTQwK+CiC6u2lRWgRnXRwKyAiy6s2tb2FfAN4l+WQSGPC1YAAAAASUVORK5CYII=');
    }

    .timeline-icon-marker {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEKUlEQVR4Xu2agZFMQRCG+yJABIgAESACRIAIEAEiQARcBIgAESACRIAIqO/qjeprs7s90z3zamu3q6527+7tm+6///67Z96eyIHbyYHHL0cAjgw4cASOJTCRABdF5I6I3BUR3vNzfVn/i4j8Wn7eicj75f1w92YwgIAficitxmgA4lREeB1mIwEg4KcdgdtgP4rIcxHhNd1GAfBCRB4ne/tSRJ4k3zN9DqCu327J+lcReSMipeZ5xdCCogkPROTahkAph4eZ+pDJAAL4oIRNx0AtPxOR784MXlmuv1+5HtBuZ4GQCQDBW6Ej45RCb/1yP6hvGQET7jnB3HpZFgA4idJr+7S0PNpbxGAWAd80N3mVoTMZAJAlsm+Db217u0CCRRYESqGXXWfrZQBgqQ/tCT6aeQsITCBYXQ78DgjdFgWAIQfV1xbOypZoamwLrRcFgNpkvC2G2tPGRhptVHcHxmYS0WURAKDkT7Pq1YZW1+WwiNAiv5kPX+otuQgAZPq1coTaL5ub3uC8n2MW0FrAcAQzmi0CgKU/Yyrt0GNkkXFZ7wb5vHdQYqhin1GsuwwiANi25BUjgv+8jL4aLLrGDScIVgyZObrabgQAgtCUx/ky229jgWWOvtabSdZl/WKsy/rNFgHgj1nNey+EEwGtGSWAkHqsd/1z9/Y6XXOo1wGofmFDhD8Wld8LAMjWZeXpzBKwGtDdgSIMsCLo7QKIIDVrWfB70RRPJ2CHSRcptooI2lbUMgUCAi1Tt0GC8gRP0FZIOTLDn2aLMMAqMbXNRDbaahOot/z+8y0CADezOtA9kTWgZifQFuFMB8AehIS3pw4g7PY7dDASZUBtYzJyQ5S+XhQAEma7QYsYOhJ+7hK7Fe5W/3LXDABsTSKGsGDEiRDbYD1FhjUnA4CaGHa3pS2UsG03JH6ZDOBeo1lA1tOzj+NZDBjNgiHZzwZgFAtq5wfh2s8ugXI/OxhldASr/Cm1PwoAywLWicwFtb6flv3sEtjEgsh0aKe+1OyPAiDrYUn6Q5Bai83sAvr+djpsOeoq96HtUQLFwlPfTABq2fMemOCnbXv8zXvq3DRej2IATlj19o7ItaEno5tUgRkJAIFAfX305QnEAsdRGaWQvbc4A2QkAD1UrpXOiH3FPzaMBqA2Im8TRCt83ae9XiGYAYA3q9OET4MzA4CaIPI3fZBpD1j5v0cvvIneeN0sAGqCqCdE+5xxqPCtwQDWrE2IzAaAox91cy1fgRv6HeECwiwGlPXshEhrsw9KvU+Iw/Sf0Qatk5sei5XrWh6P7SUAOG2f6+lAWsblvQUAx2tfehyy2dmF0mwNKP7YUphO/bVEUCdEnx5NU33LiLUYUPwora77i467KL7r/2sDUFrgkJ3eruDXaIMen6ZeszYDpgZbW+wIwOopWNmBv7xA5UFkedFbAAAAAElFTkSuQmCC');
    }
    .timeline-icon-marker--inverse {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEh0lEQVR4Xu1bi1VVMRDcrUCpQKhAqUCoQKlArUCoQK1ArECpQKxAqECoQKxArWA888zlxDX33n3Z5D49vJzDecj9JJmdzM4mT5U73vSOz1+2AGwZcMcR2C6BpQgA4L6IPBGRpyLC3/nzKPV/JSI/0s+5iHxSVf67e+vOAACc8EsROVhzNgTiTFX52a11AwAAJ/yqYuJ2shci8kZV+dm8dQEAwFsROW482lNVPWn8zrY+IK3zjxNRvxaRDyKyWvOqyk8BQC0YNOG5iDwcmSiXw4uW+tCMAWnynzNhy+dwJiKvVfXGE0EAu7xfRJ4V7idoh61AaAkAJ2+FjhE/rl2/SUdOC4w4V9UjD5hz9zQBAAAHSaXP2yVTXjRSiVmk/mPz/neqGtaZMAApSoz+H5NX1XXT3mSwADALWBC4FELZoQUAlvqk/UE08haNxARONhfIC1U9nKP51PUQAMnkUPXzFo7K2IBH2BbqLwoA1ybt7dDo3JjGujUATKN5dqBtptusatUAJEp+N73ueVNd1Wh/ewamyK/m+Z3aJRcBgJF+nw3kWlWH4qZ2fq7nANAL5FpAc0RmrN0iAFj6n6gq0+FsS1GkXc6rQT7vNUo0Sawzhla9DCIA2LTkEqM0+S/J+uZgsfzd94BQEMPL2rQbAYCTyCnPwa+8/VQDYJmT3+6KZKod2P/QrlR1f67v0vUIAMhfqKqudwGgcLLwKbUbVd3zTARAVf/23a5BlwZUOwAApPq9kUl+U1Wq/Gyr7b8lABSsB9kLl1wCtNm5/a7OQBEGWBF0ZYEkgtQKy4Kf1BSnCLIIYhYZ2kZE0KYitwtMIDBl5mmQZbM3DVoh5ZYZx7N2izCAg8+VmDs8O2uPYM0HRhyoa/k1zQJ8GQCrA9WOzIsDAOtA3cLZAwC7ERIuT+eAAGDL79DGSPUSSAwoFSbdCqKRQijUXwiABILNBm4xnIu2vV4ohavVf3h3CwDsmqTRYVSaHm0l8WMZnLvIsOaEARgRw+q0NMYKADbthsSvGQMSAF1Z0Cv6HHsTBvRmQa/otwagCwtG9g/Ca7/pEhheVjBG4YxQUP4ma78XAJYF7Kc6T4/k/WbRb7oEJlhQ7Q4Lrq9p9HsBwD368GFJj0OQ5rXARM627tC91ZUxiaYn3x0Ku74lAbA7NuzbtWGSUqo1Pfyza9d5XXvdzAc4fLvLIo+YnnA2GQOmJwD07NwvyLe+ZidSSHvcKtttXVt0SYMFFqxF5RHha15X5OPsxoCJtDgqiACs8FXv9nq1YAkASoL4V1QLfr+b8C3KgKTq9kyff77dyCwcdfH6rF54ozx1X3cGJABKgnjrEAHYc8auwrc4AxIIJYfIb34SnPyom7cf9f6O8CJZoJAVrEOkN7AHpa4T4hb071ILTA1s4lhseMx9PPZfApCWgj3Xy+fitsv/LQAJhNKXHrsUO3NALZIFClrAKi8/IV6c+hsRwRwIc8a3mOrbYGyEAZlNXv13mMgXHecoPnd90wCsUmCvSm9u8ounQc+Alr5nowxYerKl/rYA/AtR2OQYfgGbdhpfhqBcpQAAAABJRU5ErkJggg==');
    }

    .timeline-icon-shopping {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC0ElEQVR4Xu1Z4TEGMRB9KkAFqAAVoAJUgApQCSpABagAFaACOkAFzJv5bmYnvkv2kk1yvkv+3mWTfdl9ebtZwsTH0sT9RwOgRcDEEWgpMPEAaCTYUqClwMQRaCkw8QBot4AmBXYBXANYnxMtrwAuAdz+10jSAPDe47z0+QrA2X8EQQPAF4BlhXMbAD4U/43qFw0ATIEbAGuBnZ/P0mFUDoY2owGgzwZD/kJ8fABwEFpwbN9TANgC8CIcYqqsjs3B0H5SAKBtlx+2AfBm4CAfhNImtL/U7yez9O21kwrAPYB9YV3yAHnjKNWDxPmMSB5SNgB8PHA80w+JPkRPfwPANPWO1Ajw8QCFEzVEraHSJqkAhHigpPMkZHnihwCYolkjgMZ9PBBa3+r7vGhTHa7qp8Aux6AHXL55BkABFxwWAIxBD7g3jlqVWgAwBh74BLAijlvqkewcUJsH3Aj8dsAoAkBNHnDXZm+CnKAaVilQkweeAOwIb4PyVyJjBUBNHvhxjnpQX8ISgBp6gOX3nQBAJX9zRUANHmA/8lQ4pJK/uQCowQNR8jcXAKV5IFr+5gSgJA9Ey9+cALg8oLqLjX5Sy9+cANTsAQy6/joQLK/BzqbLzEYH7DUzmP1zAkDbzE+mw2Zm73nvE3BWg1EjRwTIjbApSiC6Tk3sW6KVnT8g5QKApemjpylJIPZCHdtZVWdhpzc6cgHgCpR5GyAIrNt9w8pOUQCGtMN9lZuVHS/COSLAPTXW593TOYWSLF19UWBlpzgAbnkqX2fIDWxfabSIlZ1RATBEv/sAGGKnOAAMa3n/s2PDRwoO1u6yXe2r363sFAfAirys7BQHgAu6pzdvE5rujZWdotcgFyPZMfT7pDCdZyp4n64N7RQHoFvQrQlitbuVnWJSOKowqTEphxCq4Uf0mg2AaOgWZGKLgAU5yGg3WgREQ7cgE1sELMhBRrvxCwAjoEF95ex1AAAAAElFTkSuQmCC');
    }
    .timeline-icon-shopping--inverse {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADC0lEQVR4Xu1a7XHVMBC8rQBSAVABpAJCBZAKAhUAlRAqgFQAVABUkKQC6IBQwTI3o/dGYyTrbH3YsaW/1jvr9u5We+cH2fnCzv2XDkDPgJ0j0Etg5wnQSbCXQC+BnSPQS2DnCdBvgWQJkDwTkU8i8jiQLTcicgng6r5mkgWAXxHnfZ8/Anh3H0GwAHAnIg8Mzj0B8Nuwb1VbLABoCXwWkUeJk78HcLkq7wyHSQIQs0FSU/6D9/wbgFeGd65qSw4Az0Tk2vPmDsDJqrwzHGY2AGqb5JAfTgHozaDPlA9SZWM4YtaWNwC0fKMrF4CvIvLSs37kAZL64ous4+f/+ASABqkaAFEeIPna6Yd8N+ZZuAWgZTq6cjMgygMkVTiphlhqmbRJFgApHmjpOUklZD/i5wC0ROtlgAMgygOpl5d6Hso2AKbgmjaNHXQNeiDANz8BqIBLrhIALK4HAjeOWZVmA7AGHiD5R0QeeuE+6pFUCpQCYDEeIDnMwL8AfDDqkqDLgMX6ggAHXQFQDWJapTJgMR4g+UNEnnveJuWvj0wRAJbkAZIchHrSXKIkAM15gKS23188AEzyt1YGNOcBkjqAees5ZJK/tQBozgNz5W8VAFrzQI78rQlAMx7Ikb81ARjygOkuLrTJLH9rArDkDGDS9XcAodg1eDAYYOZCAR41M5n9qwHgyFClqJbD08re37pPc6ODz7EzFM8A/2UkdSiqQBwmNbO+JZayEwKiCgAktRv7PhhR+e9XIF6kJral7DTPgIBACZ3hBsDp2OFK2WkKwMRxeLRzK2UnxUHFSyAQNf3vwOHTuQolv3WNZkEpO0sAMGxPj19nXE3r+Oq4YtPbQJs7y87aAPhPKM0EwGxnCQCU4f37Xyc25+4g2rv74+po/06yiJ0lAJjyTXB7JOiU4DB6oUAkpzeBLJhlp+k16ABQIaSpH5PCKmHPjEIo205zALzGaNgTzNLuThP4vcUsO82kcIp41vS8uBBak3OWs3QALChteU/PgC1H1+JbzwALSlve0zNgy9G1+PYP5Od+UBU9XxEAAAAASUVORK5CYII=');
    }

    .timeline-icon-note {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABgUlEQVR4Xu2ZwY7CQAxD0z+FL4M/BVX0gKoeYnuiTjTeswn2izO70m6x+M+2eP4wADdgcQI+gcUL4EfQJ+ATyBP45KVTKFPtTomOOAYwxV7zJlLLTYncgB+B8wkg8PJ745WUPyQE9QV8HviTlD8DADhThIH5qpTy5wYA2CnCwHxVSvlzAwDsFGFgviql/LkBAHaKMDBflVL+3AAAO0UYmK9KKX9uAICdIgzMV6WUPzcAwE4RBuarUsqfGwBgpwgD81Up5c8NALBThIH5qpTy5wYA2CnCwHxVSvlzAwDsFGFgviql/M3cAPVfcalsKdGxGoqwsFYDEODtH00tNyVq2IBnRLwzADsBOHt9RMTrImQ6fLomkzTgH8CQ8F0BDAvfEcDQ8N0A7Lct3/z5zej0CF496tCDdzWgMwA5fLcT+F/gkPAqgMzfGRWaYeE7AhgavhuA4eE7ASgJjwKouOfbZyK/Bm83W2HAACqodprpBnTaVoVXN6CCaqeZbkCnbVV4/QL/S2JBw4KTEAAAAABJRU5ErkJggg==');
    }
    .timeline-icon-note--inverse {
        background-size: contain;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABbElEQVR4Xu2ZUY7CQAxDk5vSk8FNB/UPRiC5TtI2GvNtjPPqhNXitvjLF5/fBEANWJyAVmDxAugIagW0AiCBMcYApbeQuTvUbki0TyQAaoBW4OsGoDt21kGYVxTNR98A9AME4CQCasB0pNGGagXQhrIVQ/2jOjafGoCSZwmj/lEdm08NQMmzhFH/qI7Npwag5FnCqH9Ux+ZTA1DyLGHUP6pj86kBKHmWMOof1bH51ACUPEsY9Y/q2HxqAEqeJYz6R3VsPjUAJc8SRv2jOjafGoCSZwmj/lEdm++2DYj+FNf+n6ICEPwtcvUGbO7+Qu5KmxswP9ExxsPMnj+GhIff39sSQNbwLQFkDt8OQPbwrQCY2Zax8/PNaHMD/lz0Qwfvl0dnAOHhu63A5wNMGT4EAPkjo0iTNnxHAKnDdwOQPnwnACXDHwJQtM+X28Jfg5cnLQogAEVg29iqAW0eVVFQNaAIbBtbNaDNoyoK+gaPuF5Q/+pScQAAAABJRU5ErkJggg==');
    }
</style>
<template>
    <template is="dom-bind">
        <div class="timeline-wrapper">



            <template is="dom-repeat" items="{{model.EventGroups}}" as="group">
                <timeline-date-point date="{{group.Date}}" style="margin-top: 10px;"></timeline-date-point>

                <template is="dom-repeat" items="{{group.Events}}" as="eventItem">
                    <div style="display: flex; flex-direction: row; justify-content: flex-start;">
                        <div style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; margin-top: 40px;">
                            <div class="timeline-icon-shopping--inverse" style="background-color: black; height: 30px; width: 30px; border-radius: 25px; box-shadow: 0 0 5px 0 black;">

                            </div>
                        </div>

                        <div class="timeline-event-wrapper">
                            <div class="timeline-event-wrapper__title-container">
                                <p class="timeline-event-wrapper__title"> {{eventItem.DisplayedDate}} {{CheckIfEmpty(eventItem.Participant)}}</p>
                                <button class="timeline-hover-button timeline-icon-edit" value="{{eventItem.EditTrigger$::click}}" onmousedown="++this.value"></button>
                                <button class="timeline-hover-button timeline-icon-close" value="{{eventItem.DeleteTrigger$::click}}" onmousedown="++this.value"></button>
                                <p class="timeline-event-wrapper__title"> {{eventItem.Name}} </p>
                            </div>

                            <div class="timeline-event-content">
                                <starcounter-include partial="{{eventItem.TimelineEventPage}}"></starcounter-include>
                            </div>
                        </div>
                    </div>
                </template>
            </template>



            <!--<template is="dom-repeat" items="{{model.Events}}">

                <timeline-date-point date="{{item.Date}}"></timeline-date-point>

                <div style="display: flex; flex-direction: row; justify-content: flex-start;">
                    <div style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; margin-top: 20px;">
                        <div class="timeline-icon-shopping--inverse" style="background-color: black; height: 30px; width: 30px; border-radius: 25px; box-shadow: 0 0 5px 0 black;">

                        </div>
                    </div>

                    <div class="timeline-event-wrapper" style="margin-top: 0px;">
                        <div class="timeline-event-wrapper__title-container">
                            <p class="timeline-event-wrapper__title"> {{item.DisplayedDate}} {{CheckIfEmpty(item.Participant)}}</p>
                            <button class="timeline-hover-button timeline-icon-edit" value="{{item.EditTrigger$::click}}" onmousedown="++this.value"></button>
                            <button class="timeline-hover-button timeline-icon-close" value="{{item.DeleteTrigger$::click}}" onmousedown="++this.value"></button>
                            <p class="timeline-event-wrapper__title"> {{item.Name}} </p>
                        </div>

                        <div class="timeline-event-content">
                            <starcounter-include partial="{{item.TimelineEventPage}}"></starcounter-include>
                        </div>
                    </div>
                </div>
            </template>-->
        </div>
    </template>
    <script>
        (function () {
            var script = document._currentScript || document.currentScript;
            var template = script.previousElementSibling;

            template.CheckIfEmpty = function (participant) {
                if (participant == null || participant.length == 0) {
                    return "All";
                } else {
                    return participant;
                }
            };
        })();
    </script>
</template>